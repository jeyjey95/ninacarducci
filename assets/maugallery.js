const _mauGalleryManager={mauGalleryGlobalConfig:{mauPrefixClass:"undefined"!=typeof _asyncMauGalleryLauncher?_asyncMauGalleryLauncher.Launcher.globalMauGalleryConfig.mauPrefixClass:"mau",galleryPlaceholderClass:"undefined"!=typeof _asyncMauGalleryLauncher?_asyncMauGalleryLauncher.Launcher.globalMauGalleryConfig.galleryPlaceholderClass:"gallery-placeholder"}};Object.assign(_mauGalleryManager.mauGalleryGlobalConfig,{lightboxId:`${_mauGalleryManager.mauGalleryGlobalConfig.mauPrefixClass}-lightbox`,anyImageServedByHTTP1Server:!0,prevImgButtonLabel:"Previous image",nextImgButtonLabel:"Next image",disableFiltersButtonLabel:"Tous",modalTriggerClass:"modal-trigger",galleryItemClass:"gallery-item",modalWrapperClass:"modal-component",styles:{animation:{modal:{arrowTransitionDelay:".4s"}},modal:{navigation:{arrowBoxesSizeObj:{size:"50",unit:"px"}}}}}),Object.assign(_mauGalleryManager,{objReader:(e,a)=>{if("string"!=typeof a)throw new Error("'key' must be a string");if(!(a in e))throw new Error(`No value found for key: ${a}`);return e[a]},objWriter:(e,a,t)=>{if("string"!=typeof a)throw new Error("'key' must be a string");if(void 0===t)throw new Error("'value' can't be 'undefined'. Use the delete operator, or set 'value' to null.");if(!(a in e))throw new Error(`No value found for key: ${a}`);e[a]=t},objAccessor:(e,a,t=void 0)=>{if(void 0===t)return _mauGalleryManager.objReader(e,a);_mauGalleryManager.objWriter(e,a,t)}}),Object.assign(_mauGalleryManager,{options:e=>_mauGalleryManager.objReader(_mauGalleryManager.mauGalleryGlobalConfig,e)}),Object.assign(_mauGalleryManager,{ImagesCacheCls:class{constructor(){this.imgUrlsCache=new Set}cacheUrl(e){if(_mauGalleryManager.options("anyImageServedByHTTP1Server"))return;if(null===e||this.imgUrlsCache.has(e))return;var a;((a=e).includes("/")||a.includes("."))&&(fetch(e),this.imgUrlsCache.add(e))}cacheUrls(e){null!==e&&e.forEach((e=>this.cacheUrl(e)))}}}),Object.assign(_mauGalleryManager,{MobileCls:class{constructor(){this.onMobile=null}isOnMobile(e=!0){if(!e||null===this.onMobile){const e=navigator.userAgent.toLowerCase();this.onMobile=e.match(/(ipad)|(iphone)|(ipod)|(android)|(webos)|(blackberry)|(tablet)|(kindle)|(playbook)|(silk)|(windows phone)/i)}return this.onMobile}}}),Object.assign(_mauGalleryManager,{ModalCls:class{constructor(){}create(e){var a,t;!this.getElement()&&(!function(){const e=_mauGalleryManager.options("lightboxId"),a=_mauGalleryManager.options("prevImgButtonLabel"),t=_mauGalleryManager.options("nextImgButtonLabel"),l=_mauGalleryManager.options("mauPrefixClass"),n=`<div class="${l} ${_mauGalleryManager.options("modalWrapperClass")}">\n               <div class="${l} modal fade" id="${e}" tabindex="-1" role="dialog" aria-hidden="true" style="user-select:none;-webkit-user-select:none;">\n                 <div class="modal-dialog" role="document" style="margin:auto;max-width:unset;">\n                   <div class="modal-content" style="min-width:fit-content !important;">\n                     <div class="modal-body">\n                       <div id="${e}-carousel" class="carousel">\n                         <div class="carousel-inner">\n                         </div>\n                         <button aria-label="${a}" class="d-block carousel-control-prev" type="button" data-bs-target="#${e}-carousel" data-bs-slide="prev" style="display:none;touch-action:manipulation;">\n                           <span class="carousel-control-prev-icon ${l} mg-prev" aria-hidden="true"></span>\n                         </button>\n                         <button aria-label="${t}" class="d-block carousel-control-next" type="button" data-bs-target="#${e}-carousel" data-bs-slide="next" style="display:none;touch-action:manipulation;">\n                           <span class="carousel-control-next-icon ${l} mg-next" aria-hidden="true"></span>\n                         </button>\n                       </div>\n                     </div>\n                   </div>\n                 </div>\n               </div>\n             </div>`;document.body.innerHTML+=n}(),a=this.getElement(),t=this.getCarouselElement(),a.addEventListener("shown.bs.modal",(e=>{if(_mauGalleryManager.Mobile.isOnMobile())return;const a=_mauGalleryManager.options("lightboxId");e.target.querySelector(`#${a} .mg-next`).parentNode.focus()})),a.addEventListener("hidden.bs.modal",(e=>{const a=_mauGalleryManager.Modal,t=_mauGalleryManager.Camera,l=a.getCurrentImage(e.target);t.moveCameraToSavedPosition(),a.setActiveCarouselElement(l,!1),a.getElement().style.display="none",t.memos("activeGalleryPicture",null)})),t.addEventListener("slide.bs.carousel",(e=>{"false"===e.target.dataset.bsTouch&&e.preventDefault();const a=document.querySelector(`#${_mauGalleryManager.options("lightboxId")}`),t=bootstrap.Modal.getInstance(a);t&&t._isTransitioning&&e.preventDefault()})));const l=["src","alt","srcset","sizes","data-gallery-tag","data-related-gallery-id"],n=[];e.getRichGalleryItems().forEach((e=>{let a=null;const t=!0;if(e.picture?(a=e.picture.cloneNode(t),this.initializeImg(a.querySelector("img"),l)):"IMG"===e.item.tagName&&(a=e.item.cloneNode(t),this.initializeImg(a,l)),!a)return;const o=_mauGalleryManager.options("galleryItemClass"),r=_mauGalleryManager.options("mauPrefixClass"),s=document.createElement("div");s.classList.add(r,"carousel-item",`modal-${o}`),s.append(a),n.push(s)})),function(e,a){const t=e.querySelector(".carousel-inner");a.forEach((e=>t.append(e)))}(this.getCarouselElement(),n)}getElement(){const e=_mauGalleryManager.options("mauPrefixClass"),a=_mauGalleryManager.options("lightboxId");return document.querySelector(`.${e}#${a}`)}getCurrentImage(e){const a=_mauGalleryManager.options("galleryItemClass"),t=_mauGalleryManager.options("mauPrefixClass");return e.querySelector(`.${t}.modal-${a}.active img`)}getCarouselElement(){return document.querySelector(`#${_mauGalleryManager.options("lightboxId")}-carousel`)}setActiveCarouselElement(e,a=!0){const t="PICTURE"===e.parentNode.tagName?e.parentNode.parentNode:e.parentNode;if(a){const e=_mauGalleryManager.options("galleryItemClass");return this.getElement().querySelectorAll(`.${_mauGalleryManager.options("mauPrefixClass")}.modal-${e}`).forEach((e=>e.classList.remove("active"))),void t.classList.add("active")}t.classList.remove("active")}initializeImg(e,a){!function(e,a){const t=[];for(let l=0,n=e.attributes;n[l];l++){const e=n[l].nodeName;-1===a.indexOf(e)&&t.push(e)}t.forEach((a=>e.removeAttribute(a)))}(e,a);const t=e.getAttribute("alt"),l=e.getAttribute("srcset")??null,n=e.getAttribute("sizes")??null;e.className=`${_mauGalleryManager.options("mauPrefixClass")} img-fluid`,e.setAttribute("alt",t),e.setAttribute("loading","lazy"),l&&e.setAttribute("srcset",l),n&&e.setAttribute("sizes",n),e.style.maxWidth="85vw",e.style.maxHeight="85vh"}initializeSize(){const e=_mauGalleryManager.Modal;e.getElement().style.display="flex";document.querySelector(".modal-backdrop").removeEventListener("transitionend",e.initializeSize)}updateCarouselComponent(e){if(!e.options("lightBox"))return;let a=e.memos("currentTag");null===a&&(a="all");const t=e.id,l=this.getCarouselElement(),n=_mauGalleryManager.options("galleryItemClass"),o=_mauGalleryManager.options("mauPrefixClass");l.querySelectorAll(`.${o}.modal-${n}`).forEach((e=>{const l=e.querySelector("img");if(parseInt(l.dataset.relatedGalleryId,10)===t&&("all"===a||l.dataset.galleryTag===a)){if(l.removeAttribute("loading"),"PICTURE"===l.parentNode.tagName){l.parentNode.querySelectorAll("source").forEach((e=>{const a=e.srcset,t=a?a.split(/[\s]+/):null;_mauGalleryManager.ImagesCache.cacheUrls(t)}))}else{const e=l.srcset,a=e?e.split(/[\s]+/):null;_mauGalleryManager.ImagesCache.cacheUrls(a)}return _mauGalleryManager.ImagesCache.cacheUrl(l.src),e.classList.add("carousel-item"),void(e.style.display=null)}l.setAttribute("loading","lazy"),e.classList.remove("carousel-item"),e.style.display="none"}))}onOpen(e,a){_mauGalleryManager.Camera.saveCurrentCameraPosition(),this.updateCarouselComponent(a);const t="PICTURE"===e.tagName?e.querySelector("img"):e,l=this.getElement(),n=l.querySelectorAll("img");for(const e of n)if(e.dataset.relatedGalleryId===t.dataset.relatedGalleryId&&e.getAttribute("src")===t.getAttribute("src")){this.setActiveCarouselElement(e);break}const o=_mauGalleryManager.options("lightboxId"),r=document.querySelectorAll(`#${o} button`),s=this.getCarouselElement();if(!(1===s.querySelectorAll(".carousel-item").length)&&a.options("navigation")){s.removeAttribute("data-bs-touch"),r.forEach((e=>{e.removeAttribute("aria-hidden"),e.classList.add("d-block")}));const e=bootstrap.Carousel.getInstance(`#${o}-carousel`)??new bootstrap.Carousel(`#${o}-carousel`);if(_mauGalleryManager.Mobile.isOnMobile()){const a=new Event("click");l.querySelector(`#${o} .mg-next`).dispatchEvent(a),e._slide(e._directionToOrder("right"))}else e._slide(e._directionToOrder("right")),e._slide(e._directionToOrder("left"))}else s.setAttribute("data-bs-touch","false"),r.forEach((e=>{e.setAttribute("aria-hidden","true"),e.classList.remove("d-block")}));const i=document.querySelector(`#${o}`);(bootstrap.Modal.getInstance(i)??new bootstrap.Modal(i)).show(),function(){const e=_mauGalleryManager.Camera;e.memos("oldY")!==window.scrollY?(e.memos("lockScreenHasGlitched",!0),e.memos("oldYDelta",e.memos("oldY")-window.scrollY)):(e.memos("lockScreenHasGlitched",!1),e.memos("oldYDelta",0))}();const m=document.querySelector(".modal-backdrop"),c=_mauGalleryManager.Modal;m.addEventListener("transitionend",c.initializeSize)}}}),Object.assign(_mauGalleryManager,{DomManipulationsCls:class{constructor(){this.memoRect=null}getAbsoluteElementY(e){const a=document.body.getBoundingClientRect();return e.getBoundingClientRect().top-a.top}getElementHeight(e){return parseFloat(window.getComputedStyle(e).height,10)}getElementWidth(e){return parseFloat(window.getComputedStyle(e).width,10)}getElementBottomPx(e,a=!1){const t=a&&this.memoRect?this.memoRect:e.getBoundingClientRect();return this.memoRect=t,t.bottom}getElementLeftPx(e,a=!1){const t=a&&this.memoRect?this.memoRect:e.getBoundingClientRect();return this.memoRect=t,t.left}getElementRightPx(e,a=!1){const t=a&&this.memoRect?this.memoRect:e.getBoundingClientRect();return this.memoRect=t,t.right}getElementTopPx(e,a=!1){const t=a&&this.memoRect?this.memoRect:e.getBoundingClientRect();return this.memoRect=t,t.top}isInViewport(e){const a=this.getElementTopPx(e),t=!0,l=this.getElementBottomPx(e,t),n=this.getElementLeftPx(e,t),o=this.getElementRightPx(e,t),r=a>=0&&n>=0,s=window.innerHeight,i=window.innerWidth;return r&&(a<=s&&n<=i)||l<=s&&o<=i}wrap(e,a){e&&e.parentNode&&(e.parentNode.insertBefore(a,e),a.appendChild(e))}}}),Object.assign(_mauGalleryManager,{GalleriesArchiveCls:class{constructor(){this.galleryInstanceIdCount=0,this.archive=[]}appendGalleryInstance(e){this.galleryInstanceIdCount+=1,e.id=this.galleryInstanceIdCount,this.initializeGalleryInstance(e),this.archive.push(e)}initializeGalleryInstance(e){!function(e){const a=(()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e})(),t=e.options("styles"),l=(e,a)=>t.animation[e][a],n=l("gallery","animationName"),o=l("gallery","animationKeyframes"),r=l("gallery","animationDurationOnFilter"),s=l("gallery","animationEasing"),i=`${n} ${r} ${s}`,m=`${n} ${l("gallery","animationDurationOnModalAppear")} ${s}`,c=_mauGalleryManager.options("mauPrefixClass"),u={animationKeyframes:`@keyframes ${n} ${o}`,galleryAnimation:`.${c}.row {\n                animation: ${i}\n              }`,modalAnimation:`.${c}.modal {\n                animation: ${m}\n              }`,hackInTheMatrix:`.${c}.item-column::after {\n                content: "";\n                position: relative;\n                z-index: -1000;\n                display: block;\n                padding-bottom: 100%;\n              }`};if(_mauGalleryManager.Mobile.isOnMobile()){const a={disableFocusOutlineOnGalleryImages:`#${e.options("galleryRootNodeId")} .${c}.item-column a:focus {\n                  outline-style: none;\n                  box-shadow: none;\n                  border-color: transparent;\n                }`};Object.assign(u,a)}Object.keys(u).reverse().forEach((e=>a.sheet.insertRule(u[e].replace(/[\s]+/g," ").trim(),0)))}(e),function(e){const a=_mauGalleryManager.options("mauPrefixClass"),t=_mauGalleryManager.options("galleryItemClass"),l=e.options("galleryRootNodeId"),n=document.querySelector(`#${l}`);if(!n.classList.contains("row")){const e=document.createElement("div");e.classList.add(_mauGalleryManager.options("mauPrefixClass"),"row"),n.append(e)}!function(e,l){l.querySelectorAll(`.${a}.${t}`).forEach((a=>{"PICTURE"===a.parentNode.tagName&&(a=a.parentNode),function(e,a,t){let l=null,n=null;"IMG"===t.tagName?(l=t.dataset.galleryTag,t.classList.add("object-fit-cover","position-absolute","img-fluid","w-100","h-100","p-2","d-block"),t.setAttribute("data-related-gallery-id",`${e.id}`)):"PICTURE"===t.tagName&&(n=t.querySelector("img"),l=n.dataset.galleryTag,n.classList.add("object-fit-cover","position-absolute","img-fluid","w-100","h-100","p-2","d-block"),n.setAttribute("data-related-gallery-id",`${e.id}`)),e.options("showTags")&&l&&e.tagsSet().add(l);const o=_mauGalleryManager.options("mauPrefixClass");a.querySelector(`.${o}.row`).append(t),function(e,a){function t(e,a){const t=_mauGalleryManager.options("modalTriggerClass"),l=_mauGalleryManager.options("mauPrefixClass");if(e&&a){const e=document.createElement("a");return e.href="#",e.classList.add(l,t,"d-flex","w-100","h-100"),e.style.display="none",e.style.textDecoration="none",e.style.color="inherit",e}const n=document.createElement("div");return n.setAttribute("tabindex","0"),n.classList.add("w-100","h-100"),n}const l=e.options("lightBox"),n=e.options("columns"),o=_mauGalleryManager.options("mauPrefixClass"),r="IMG"===a.tagName||"PICTURE"===a.tagName;let s=null,i=null;if("number"==typeof n)s=document.createElement("div"),s.classList.add(o,"item-column","position-relative","mb-0","p-0",`col-${Math.trunc(12/n)}`),i=t(r,l);else{if("object"!=typeof n)throw new Error(`Columns should be defined as numbers or objects. ${typeof n} is not supported.`);{try{!function(e){const a=["xs","sm","md","lg","xl"];Object.keys(e).forEach((e=>{if(!a.includes(e))throw new Error(`Unknown columns key: ${e}.`)}))}(n)}catch(e){throw e}const e=function(e){const a=[];return e.xs&&a.push(`col-${Math.trunc(12/e.xs)}`),e.sm&&a.push(`col-sm-${Math.trunc(12/e.sm)}`),e.md&&a.push(`col-md-${Math.trunc(12/e.md)}`),e.lg&&a.push(`col-lg-${Math.trunc(12/e.lg)}`),e.xl&&a.push(`col-xl-${Math.trunc(12/e.xl)}`),a}(n);s=document.createElement("div"),s.classList.add(o,"item-column",...e,"position-relative","mb-0","p-0"),i=t(r,l)}}_mauGalleryManager.DomManipulations.wrap(a,i),_mauGalleryManager.DomManipulations.wrap(a.parentNode,s)}(e,t)}(e,l,a)}))}(e,n)}(e);e.options("lightBox")&&_mauGalleryManager.Modal.create(e),e.showItemTags(),_mauGalleryManager.AtomicGalleryManager.generateListeners(e)}getGalleryInstance(e){const a=this.archive.find((({id:a})=>a===e));return a||null}}}),Object.assign(_mauGalleryManager,{CameraCls:class{constructor(){this.dataMemos={activeElement:null,activeElementAbsoluteY:null,activeElementComputedBottom:null,activeGalleryPicture:null,oldX:0,oldY:0,oldYDelta:0,lockScreenHasGlitched:!1}}memos(e,a=void 0){return _mauGalleryManager.objAccessor(this.dataMemos,e,a)}moveCamera(e,a){if(e<0)return;!function(e,a,t){setTimeout((()=>{window.scrollTo({top:a,left:e,behavior:"smooth"})}),t)}(e,a,25)}saveCurrentCameraPosition(){this.memos("oldX",window.scrollX),this.memos("oldY",window.scrollY),function(e){const a=document.activeElement;if(a)return e.memos("activeElement",a),e.memos("activeElementAbsoluteY",_mauGalleryManager.DomManipulations.getAbsoluteElementY(a)),void e.memos("activeElementComputedBottom",_mauGalleryManager.DomManipulations.getElementBottomPx(a));e.memos("activeElement",null),e.memos("activeElementAbsoluteY",null),e.memos("activeElementComputedBottom",null)}(this)}moveCameraToSavedPosition(e=!1){function a(e,a){e.moveCamera(e.memos("oldX"),e.memos("oldY")),e.memos("lockScreenHasGlitched",!1),a&&a.focus({preventScroll:!0})}function t(e){const a=_mauGalleryManager.DomManipulations,t=a.getElementBottomPx(e),l=a.getElementTopPx(e,!0),n=document.querySelector(".navbar"),o=t<(!!n&&a.isInViewport(n)?1.1*a.getElementHeight(n):0),r=l>=window.innerHeight;return o?(e.focus({preventScroll:!1}),!0):r?(e.scrollIntoView(!0),e.focus({preventScroll:!0}),!0):(e.focus({preventScroll:!0}),!1)}if(e)return void(l=this).moveCamera(l.memos("oldX"),l.memos("oldY"));var l;const n=this.memos("activeGalleryPicture"),o=this.memos("activeElement"),r=this.memos("lockScreenHasGlitched")&&window.scrollY+this.memos("oldYDelta")===this.memos("oldY");let s=!1;n?s=t(n):o&&(s=t(o)),r&&!s&&a(this,n||o)}}}),Object.assign(_mauGalleryManager,{AtomicGalleryManagerCls:class{constructor(){}filterByTag(e,a){a.classList.contains(e.options("filtersActiveTagClass"))||function(a){_mauGalleryManager.Camera.saveCurrentCameraPosition(),function(e){const a=e.options("galleryRootNodeId"),t=_mauGalleryManager.options("mauPrefixClass"),l=document.querySelector(`#${a} .${t}.row`);if(!_mauGalleryManager.Mobile.isOnMobile()){const e=l.style.animation,a=l.style.display;l.style.animation="none",l.style.display="none",l.offsetHeight,l.style.display=a,l.style.animation=e}const n=l.style.animationName;l.style.animationName="none",window.requestAnimationFrame((()=>l.style.animationName=n))}(e);const t=function(e,a){const t=e.options("galleryRootNodeId"),l=_mauGalleryManager.options("mauPrefixClass"),n=e.getRichGalleryItems(!1),o=e.options("filtersActiveTagClass"),r=document.querySelector(`#${t} .${l}.${o}`),s=a.dataset.imagesToggle;return r.classList.remove(o,"active"),a.classList.add(l,o,"active"),n.forEach((t=>{t.column.style.display="all"===s||t.item.dataset.galleryTag===s?null:"none",function(e){if("top"===e.options("tagsPosition")){const e=!0;_mauGalleryManager.Camera.moveCameraToSavedPosition(e)}}(e),function(e,a){"bottom"===e.options("tagsPosition")&&a.scrollIntoView(!1)}(e,a)})),s}(e,a);e.memos("currentTag",t)}(a)}generateListeners(e){const a=_mauGalleryManager.options("mauPrefixClass"),t=e.options("galleryRootNodeId"),l=document.querySelector(`#${t}`);if(l.querySelectorAll(`#${t} .tags-bar .${a}.nav-link`).forEach((a=>a.addEventListener("click",(a=>_mauGalleryManager.AtomicGalleryManager.filterByTag(e,a.target))))),!e.options("lightBox"))return;const n=_mauGalleryManager.options("modalTriggerClass");l.querySelectorAll(`#${t} .${a}.${n}`).forEach((a=>{a.addEventListener("click",(a=>{a.preventDefault();const t=_mauGalleryManager.Modal;let l=a.target.querySelector("img")??a.target;if(!e.options("lightBox")||!l)return;"PICTURE"===l.parentNode.tagName&&(l=l.parentNode);let n=a.target;for(;"A"!==n.tagName&&!n.classList.contains(_mauGalleryManager.options("modalTriggerClass"));)n=n.parentNode;_mauGalleryManager.Camera.memos("activeGalleryPicture",n),t.onOpen(l,e)}))}))}}}),Object.assign(_mauGalleryManager,{appendGlobalCSS:()=>{const e=(()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e})(),a=_mauGalleryManager.options("styles"),t=(l="modal",n="arrowTransitionDelay",a.animation[l][n]);var l,n;const o=a.modal.navigation,r=o.arrowBoxesSizeObj.size,s=o.arrowBoxesSizeObj.unit,i=Math.trunc(r/2),m=_mauGalleryManager.options("mauPrefixClass"),c=_mauGalleryManager.options("lightboxId"),u=r+s,d={secureModalBackdropSize:".modal-backdrop {\n          width: 400vw !important;\n          height: 400vh !important;\n        }",killModalCarouselAnimations:`.${m}.carousel-item {\n          transition: all 0s !important;\n        }`,navigationButtons:`.${m}.mg-next, .${m}.mg-prev {\n          --_nav-btns-delta: calc(${u} * .2);\n          position: absolute;\n          bottom: calc(50% - ${i+s});\n          width: ${u};\n          height: ${u};\n          border-radius: 0;\n          transition: left ${t}, right ${t};\n        }`,navigationButtonRight:`.${m}.mg-next {\n          --_negative-value: -${u};\n          --_right: calc(var(--_negative-value) - var(--_nav-btns-delta));\n          right: var(--_right)\n        }`,navigationButtonLeft:`.${m}.mg-prev {\n          --_negative-value: -${u};\n          --_left: calc(var(--_negative-value) - var(--_nav-btns-delta));\n          left: var(--_left);\n        }`,disableBootstrapCarouselControlClickableAreaOnModal:`#${c} .carousel-control-prev, #${c} .carousel-control-next {\n          width: 0;\n        }`,navigationButtonsResponsive:`@media (max-width: 1000px) {\n          .${m}.mg-next, .${m}.mg-prev {\n            left: calc(var(--_left) / 12);\n            right: calc(var(--_right) / 12);\n            margin: 0 calc(var(--_nav-btns-delta) / 2);\n            transition: left ${t}, right ${t};\n          }\n          #${c} .carousel-control-prev, #${c} .carousel-control-next {\n            width: 15%;\n          }\n        }`};Object.keys(d).reverse().forEach((a=>e.sheet.insertRule(d[a].replace(/[\s]+/g," ").trim(),0)))}}),Object.assign(_mauGalleryManager,{Mobile:new _mauGalleryManager.MobileCls,DomManipulations:new _mauGalleryManager.DomManipulationsCls,GalleriesArchive:new _mauGalleryManager.GalleriesArchiveCls,ImagesCache:new _mauGalleryManager.ImagesCacheCls,Modal:new _mauGalleryManager.ModalCls,Camera:new _mauGalleryManager.CameraCls,AtomicGalleryManager:new _mauGalleryManager.AtomicGalleryManagerCls}),Object.assign(_mauGalleryManager,{MauGallery:class{constructor(e={}){var a;this.props={memos:{richGalleryItems:null,currentTag:null},options:{columns:3,lightBox:!0,showTags:!0,navigation:!0,tagsPosition:"top",galleryRootNodeId:"maugallery",filtersActiveTagClass:"active-tag",styles:{animation:{gallery:{animationName:"mauGalleryFadeInDefaultAnimationName",animationKeyframes:"{0% {opacity: 0} 5% {opacity: 0} 100% {opacity: 1}}",animationDurationOnFilter:".5s",animationDurationOnModalAppear:".25s",animationEasing:"ease-in"}}}},tagsSet:new Set},a=this.props,Object.seal(a),Object.seal(a.memos),Object.assign(a.options,e),a.options.mutableOptions||Object.freeze(a.options),_mauGalleryManager.GalleriesArchive.appendGalleryInstance(this)}memos(e,a=void 0){return _mauGalleryManager.objAccessor(this.props.memos,e,a)}options(e,a=void 0){return _mauGalleryManager.objAccessor(this.props.options,e,a)}tagsSet(){return this.props.tagsSet}getRichGalleryItems(e=!0){if(e&&this.memos("richGalleryItems"))return this.memos("richGalleryItems");const a=this.options("galleryRootNodeId"),t=_mauGalleryManager.options("mauPrefixClass"),l=_mauGalleryManager.options("galleryItemClass"),n=document.querySelectorAll(`#${a} div.${t}.item-column`),o=[];let r=null;return n.forEach((e=>{const a=e.querySelector(`.${t}.${l}`);"PICTURE"===a.parentNode.tagName&&(r=a.parentNode);const n={item:a,column:e,picture:r};o.push(n)})),this.memos("richGalleryItems",o),o}showItemTags(){if(!this.options("showTags"))return;const e=this.options("galleryRootNodeId"),a=document.querySelector(`#${e}`),t=this.options("tagsPosition"),l=this.options("filtersActiveTagClass"),n=_mauGalleryManager.options("disableFiltersButtonLabel"),o=_mauGalleryManager.options("mauPrefixClass");let r=`<li class="nav-item"><button style="touch-action:manipulation;" class="${o} nav-link active ${l}" data-images-toggle="all">${n}</button></li>`;this.tagsSet().forEach((e=>r+=`<li class="nav-item"><button style="touch-action:manipulation;" class="${o} nav-link" data-images-toggle="${e}">${e}</button></li>`));const s=`<ul class="my-4 tags-bar nav nav-pills">${r}</ul>`;if("bottom"===t)a.innerHTML+=s;else{if("top"!==t)throw new Error(`Unknown tags position: ${t}`);a.innerHTML=s+a.innerHTML}}}}),_mauGalleryManager.appendGlobalCSS(),"undefined"==typeof _asyncMauGalleryLauncher&&(_mauGalleryManager.mauGalleriesConfig=[],document.querySelectorAll(`[data-${_mauGalleryManager.options("mauPrefixClass")}-gallery-id]`).forEach((e=>{const a=_mauGalleryManager.options("mauPrefixClass"),t=e.getAttribute(`data-${a}-gallery-id`),l={galleryRootNodeId:t,lightBox:"true"===e.getAttribute(`data-${a}-lightbox`),navigation:"true"===e.getAttribute(`data-${a}-navigation`),showTags:"true"===e.getAttribute(`data-${a}-showtags`),tagsPosition:e.getAttribute(`data-${a}-tagsposition`),mutableOptions:"true"===e.getAttribute(`data-${a}-mutable-options`),columns:{xs:parseInt(e.getAttribute(`data-${a}-columns-xs`)),sm:parseInt(e.getAttribute(`data-${a}-columns-sm`)),md:parseInt(e.getAttribute(`data-${a}-columns-md`)),lg:parseInt(e.getAttribute(`data-${a}-columns-lg`)),xl:parseInt(e.getAttribute(`data-${a}-columns-xl`))}};e.id=t,_mauGalleryManager.mauGalleriesConfig.push(l)})),_mauGalleryManager.mauGalleriesConfig.forEach((e=>{new _mauGalleryManager.MauGallery(e);const a=_mauGalleryManager.options("galleryPlaceholderClass"),t=document.querySelector(`#${e.galleryRootNodeId} .${a}`);t&&t.remove()})));